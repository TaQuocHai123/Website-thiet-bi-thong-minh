# ================== DATABASE ==================
spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=thongminh;encrypt=false;trustServerCertificate=true;sendStringParametersAsUnicode=true
spring.datasource.username=sa
spring.datasource.password=123
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# Connection pool
spring.datasource.hikari.maximum-pool-size=10

# Hibernate dialect + schema auto update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect
spring.jpa.hibernate.ddl-auto=update

# ================== ENCODING (CHUẨN UTF-8) ==================
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

spring.thymeleaf.encoding=UTF-8
spring.mail.default-encoding=UTF-8

# Hibernate UTF-8 connection
spring.jpa.properties.hibernate.connection.useUnicode=true
spring.jpa.properties.hibernate.connection.characterEncoding=UTF-8
spring.jpa.properties.hibernate.connection.CharSet=UTF-8
spring.jpa.properties.hibernate.connection.defaultNChar=true

# spring.datasource.tomcat.connection-properties=useUnicode=true;characterEncoding=utf-8;

# ================== THYMELEAF ==================
spring.web.resources.static-locations=classpath:/static/
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.cache=false
spring.thymeleaf.mode=HTML

# ================== STATIC RESOURCES ==================
spring.mvc.static-path-pattern=/**
spring.web.resources.static-locations[0]=classpath:/static/
spring.web.resources.static-locations[1]=file:uploads/

# ================== UPLOAD CONFIGURATION ==================
upload.directory=uploads
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ================== MAIL ==================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=taquochai12345@gmail.com
spring.mail.password=hhsljzfsemtgcfkt
spring.mail.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.debug=true
# ================== VNPAY CONFIGURATION ==================

# URL thanh toán của VNPay sandbox
vnpay.vnp_PayUrl=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html

# URL VNPay sẽ redirect về sau khi thanh toán
vnpay.vnp_ReturnUrl=http://localhost:8080/payment-result

# Mã terminal của bạn
vnpay.vnp_TmnCode=7K11EI6D

# Secret key để ký secure hash
vnpay.secretKey=BIDVWNQWC5A1WXPCGHK6TO2IRNTK0G46

# (Optional) VNPay notify URL for server-to-server payment notification
# Configure VNPay merchant portal to point notify endpoint to this URL
vnpay.vnp_NotifyUrl=https://norah-ungarrulous-eximiously.ngrok-free.dev/api/payment/notify
vnpay.vnp_LocalSuccessUrl=http://localhost:8080/payment-result
vnpay.allowReturnOverride=false
# Enable debug logging for VNPay controllers to help diagnose invalid checksum issues
logging.level.com.project.DuAnTotNghiep.controller.api=DEBUG

# ================== GHN (GiaoHangNhanh) CONFIGURATION ==================
# GHN API token for developer account. Leave empty in local dev if you plan to use Address coords fallback.
# Use environment variable GHN_API_TOKEN if present; otherwise default to empty so app can start without GHN.
ghn.api.token=8552fcf3-ced7-11f0-be8f-2adc2cf8cb2c
# GHN shop id and default service id. Replace with actual values when testing in GHN portal.
ghn.shop.id=6144099
ghn.service.id=53321
